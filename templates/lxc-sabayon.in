### with a few add on commands add the Sabayon Linux Overlays. 
## migh needs draw my insipration from these too. https://github.com/adrienthebo/sabayon-chroot-builder
### goals an easy to Install Sabayon Linux Builder conainer, which is Gentoo Comapatable , 
#### yet faster to update & administrate... and or a GP Sabayon box sutable for a server farm LXC Virtual hosting... 
###  Requires Gentoo, lxc-gentoo.in run gentoo then these few conversions ####
Include lxc-gentoo.in
emerge --sync
### wait till fin Sync portage source tree 
sleep=n # wait x  .... ???
emerge --buildpkg  sys-apps/entropy sys-apps/file[python] layman equo eix
## Adds Sabayon EQUO && Entropy , layman too eix.

setup_lang() {
export LANG=en_US
export LANGUAGE=${LANG}
export LC_ALL=${LANG}.UTF-8
echo "en_US.UTF-8 UTF-8" >> /etc/locale.gen
locale-gen
}
setup_system() {
## ln -sf ../usr/share/zoneinfo/America/Los_Angeles /etc/localtime done prior in lxc-gentoo.in by user slecteion.
echo "nameserver 8.8.8.8" > /etc/resolv.conf
# sets python 2.7 as default
eselect python set 1
env-update
source /etc/profile
}
prepare_portage() {
#emerge --sync
echo "sys-apps/entropy ~amd64" >> /etc/portage/package.keywords/entropy
echo "app-admin/equo ~amd64" >> /etc/portage/package.keywords/entropy
echo "app-portage/layman git" > /etc/portage/package.use/layman
env-update
source /etc/profile
}
install_layman() {
emerge -v --buildpkg  layman eix
layman -a sabayon
layman -S
echo "source /var/lib/layman/make.conf" >> /etc/portage/make.conf
env-update
source /etc/profile
}
install_entropy() {
emerge -vt app-admin/equo sys-apps/entropy --autounmask-write
etc-update --automode -5
emerge -vt app-admin/equo sys-apps/entropy
}
setup_lang
setup_system
prepare_portage
install_layman
install_entropy

### Add sabayon src repos incase we need to build., also adds package masks etc to keep bad stuff from buuilding that dont agree with Sabayon. 
 equo update && equo repo mirrorsort sabayonlinux.org
## update binaries package lists and repos Sort repos else you'll have GARR.. 
## (university) in IT,  sort to fastests mirrors posible so updates are fast as posible. 
equo rescue spmsync 
sleep=600   # wait takes about 30 mins on a rescued gentoo/sab box however new box shouldn't take long. 
### not always nessisary but since migrating... sync world to entropy DB. ###
equo install entropy equo
## update entropy core  and equo entropy txt client 
equo upgrade
wait till exit ??? 
equo deptest && equo libtest  ### tests dependancies and libs installs if required 
wait till exit ??? 
equo conf update   ### ???? some means of saying -5 to all (YES merge) 

ECHO " Confgradualtions Sabayon Linux is now Installed, however only X64 is officially supported" 

